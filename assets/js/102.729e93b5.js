(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{416:function(a,e,t){"use strict";t.r(e);var s=t(27),r=Object(s.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h6",{attrs:{id:"last-updated-2025-07-03"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#last-updated-2025-07-03"}},[a._v("#")]),a._v(" last updated: 2025-07-03")]),a._v(" "),e("h1",{attrs:{id:"elevate-ng-testing-guide"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#elevate-ng-testing-guide"}},[a._v("#")]),a._v(" ELevate NG Testing Guide")]),a._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[a._v("WARNING")]),a._v(" "),e("p",[a._v("Before beginning, we "),e("strong",[a._v("HIGHLY")]),a._v(" recommend that you follow system administration best practices and make sure you have backups and/or snapshots of your system before you proceed. It is recommended to do a trial run in a sandbox to verify the upgrade worked as expected before you attempt to upgrade any production system. Please report any issues encountered to the "),e("a",{attrs:{href:"https://bugs.almalinux.org",target:"_blank",rel:"noopener noreferrer"}},[a._v("AlmaLinux Bug Tracker"),e("OutboundLink")],1),a._v(" and/or "),e("a",{attrs:{href:"https://chat.almalinux.org/almalinux/channels/migration",target:"_blank",rel:"noopener noreferrer"}},[a._v("AlmaLinux Chat Migration Channel"),e("OutboundLink")],1)])]),a._v(" "),e("p",[a._v("The ELevate NG supports a number of 3rd party repositories:")]),a._v(" "),e("ul",[e("li",[a._v("EPEL support is currently available for upgrades to AlmaLinux OS only. "),e("strong",[a._v("Note")]),a._v(", that the support works only for those packages from EL 9 that are currently available for EL 10. Unavailable packages from EL 9 will remain on the system after the upgrade.")]),a._v(" "),e("li",[a._v("Docker CE - for all supported operating systems.")]),a._v(" "),e("li",[a._v("MariaDB - for supported operating systems excluding AlmaLinux 10, AlmaLinux Kitten 10, and CentOS Stream 10.")]),a._v(" "),e("li",[a._v("nginx - for supported operating systems excluding AlmaLinux 10, AlmaLinux Kitten 10, and CentOS Stream 10.")]),a._v(" "),e("li",[a._v("PostgreSQL - for all supported operating systems.")]),a._v(" "),e("li",[a._v("Imunify - for upgrades to EL 8.")]),a._v(" "),e("li",[a._v("KernelCare - for supported operating systems excluding AlmaLinux 10, AlmaLinux Kitten 10, and CentOS Stream 10.")]),a._v(" "),e("li",[a._v("TuxCare - for all supported operating systems.")])]),a._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),e("p",[a._v("You can add more 3rd party repositories support. See more on the "),e("a",{attrs:{href:"/elevate/Contribution-guide"}},[a._v("Contribute")]),a._v(" page.")])]),a._v(" "),e("p",[a._v("Currently, the following upgrade paths are available:")]),a._v(" "),e("p",[e("img",{attrs:{src:"/images/ELevateNG.svg",alt:"image"}})]),a._v(" "),e("p",[a._v("* - upgrading from Scientific Linux 7 to AlmaLinux 8 requires a workaround. Please, see more in the "),e("a",{attrs:{href:"#known-issues"}},[a._v("known issues")]),a._v(". "),e("br"),a._v("\n** - upgrading to Oracle Linux 9 is available with the "),e("a",{attrs:{href:"https://blogs.oracle.com/linux/post/upgrade-oracle-linux-8-to-oracle-linux-9-using-leapp",target:"_blank",rel:"noopener noreferrer"}},[a._v("Oracle Leapp utility"),e("OutboundLink")],1),a._v(" and will not be supported by ELevate project."),e("br"),a._v("\n*** - Currently, upgrades to AlmaLinux 10 and AlmaLinux Kitten 10 don't support x86_64_v2 architecture.")]),a._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[a._v("WARNING")]),a._v(" "),e("p",[a._v("ELevate currently does not support the "),e("a",{attrs:{href:"https://github.com/AlmaLinux/raspberry-pi/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Raspberry Pi images"),e("OutboundLink")],1),a._v(".")])]),a._v(" "),e("h2",{attrs:{id:"experimental-feature-livemode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#experimental-feature-livemode"}},[a._v("#")]),a._v(" Experimental feature: LiveMode")]),a._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/oamg/leapp-repository/blob/main/docs/source/configuring-ipu/experimental-features/livemode.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("LiveMode is an experimental feature"),e("OutboundLink")],1),a._v(" that gives more control and flexibility over your system's real upgrade process, which takes place during the reboot.")]),a._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[a._v("WARNING")]),a._v(" "),e("p",[a._v("Leapp will notify you that's "),e("code",[a._v("UNSUPPORTED UPGRADE")]),a._v(", so please do not use the feature on production environments.")]),a._v(" "),e("p",[a._v("Live upgrades are currently limited to x86_64 only.")]),a._v(" "),e("p",[a._v("Live upgrades are available for EL8 to EL9, and EL9 to EL10 paths.")])]),a._v(" "),e("p",[a._v("Please check the following example and find out how to benefit from the feature.")]),a._v(" "),e("h3",{attrs:{id:"livemode-configuration-example"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#livemode-configuration-example"}},[a._v("#")]),a._v(" LiveMode configuration example")]),a._v(" "),e("p",[a._v("Create the "),e("code",[a._v("/etc/leapp/actor_conf.d/livemode.yaml")]),a._v(" with the following content:")]),a._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("livemode")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("additional_packages")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("vim"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("enhanced"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("autostart_upgrade_after_reboot")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("setup_network_manager")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("setup_passwordless_root")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("setup_opensshd_using_auth_keys")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" /root/.ssh/authorized_keys\n")])])]),e("p",[a._v("This will customize the squashfs image with:")]),a._v(" "),e("ul",[e("li",[a._v("installed "),e("code",[a._v("vim-enhanced")]),a._v(" RPM package into the upgrade environment")]),a._v(" "),e("li",[a._v("won't start the upgrade automatically after reboot. You can run it manually with the "),e("code",[a._v("upgrade")]),a._v(" command anytime when you are ready")]),a._v(" "),e("li",[a._v("enabled NetWorkManager, so you can even try to access your system via ssh")]),a._v(" "),e("li",[a._v("setup openssh daemon to use the "),e("code",[a._v("/root/.ssh/authorized_keys")]),a._v(" authorized keys file.")])]),a._v(" "),e("h3",{attrs:{id:"doing-preupgrade-and-upgrade"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#doing-preupgrade-and-upgrade"}},[a._v("#")]),a._v(" Doing "),e("code",[a._v("preupgrade")]),a._v(" and "),e("code",[a._v("upgrade")])]),a._v(" "),e("p",[a._v("The "),e("code",[a._v("leapp preupgrade")]),a._v(" and "),e("code",[a._v("leapp upgrade")]),a._v(" should run with "),e("code",[a._v("--enable-experimental-feature livemode")]),a._v(" option and "),e("code",[a._v("LEAPP_UNSUPPORTED=1")]),a._v(" environment variable.")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sh")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"LEAPP_UNSUPPORTED=1 leapp preupgrade --enable-experimental-feature livemode"')]),a._v("\n")])])]),e("p",[a._v("At the very beginning it will print the following information about experimental features:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),a._v("\n                    UNSUPPORTED UPGRADE\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),a._v("\n\nVariable LEAPP_UNSUPPORTED has been detected. Proceeding at your own risk.\nExperimental actors have been detected:\n- live_image_generator\n- live_mode_config_scanner\n- live_mode_reporter\n- prepare_live_image\n- emit_livemode_requirements\n- remove_live_image\n\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),a._v("\n                    UNSUPPORTED UPGRADE\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),a._v("\n")])])]),e("p",[a._v("Now, solve errors and mitigate inhibitors if any, then run:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sh")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"LEAPP_UNSUPPORTED=1 leapp upgrade --enable-experimental-feature livemode"')]),a._v("\n")])])]),e("h3",{attrs:{id:"continuing-with-the-upgrade-in-livemode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#continuing-with-the-upgrade-in-livemode"}},[a._v("#")]),a._v(" Continuing with the upgrade in LiveMode")]),a._v(" "),e("p",[a._v("Reboot the system when "),e("code",[a._v("leapp upgrade")]),a._v(" finished without any error(s) and inhibitor(s). Try to access it via ssh or main console.")]),a._v(" "),e("p",[a._v("The pre-login message will look like:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),a._v("\n         LEAPP LIVE UPGRADE MODE - *UNSUPPORTED*\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),a._v("\n      DO NOT REBOOT "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("until")]),a._v(" the upgrade is finished.\n      Upgrade logs are sent on tty1 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Ctrl+Alt+F1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),a._v("\n It will automatically "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("reboot")]),a._v(" unless you "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("touch")]),a._v(" this file:\n   "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# touch /sysroot/.noreboot")]),a._v("\n\n If "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("upgrade.autostart")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" is set, run an upgrade manually:\n   "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# upgrade |& tee /sysroot/var/log/leapp/leapp-upgrade.log")]),a._v("\n\n Log "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" as root, without password.\n")])])]),e("p",[a._v("Do the real upgrade. "),e("strong",[a._v("Note")]),a._v(" if you don't want immediate reboot, create "),e("code",[a._v("/sysroot/.noreboot")]),a._v(" file.")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("touch")]),a._v(" /sysroot/.noreboot\nupgrade\n")])])]),e("p",[a._v("With "),e("code",[a._v("/sysroot/.noreboot")]),a._v(", you will need to issue system reboot manually. That will do the upgrade final tasks and SElinux relabeling.")]),a._v(" "),e("h2",{attrs:{id:"upgrade-centos-7-to-almalinux-8"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#upgrade-centos-7-to-almalinux-8"}},[a._v("#")]),a._v(" Upgrade CentOS 7 to AlmaLinux 8")]),a._v(" "),e("p",[a._v("EL7 to EL8 upgrades aren't supported by "),e("a",{attrs:{href:"https://github.com/oamg/leapp-repository/commit/518722058ca53e94c8efa8958ca8fd7cac40dca7",target:"_blank",rel:"noopener noreferrer"}},[a._v("leapp-repository upstream"),e("OutboundLink")],1),a._v(" versions grater then 0.22.0.")]),a._v(" "),e("p",[a._v("Please follow the "),e("a",{attrs:{href:"/elevate/ELevating-CentOS7-to-AlmaLinux-10"}},[a._v("ELevating CentOS 7 to AlmaLinux 10")]),a._v(" guide to upgrade CentOS7 to AlmaLinux 8.")]),a._v(" "),e("h2",{attrs:{id:"upgrading-almalinux-8-to-almalinux-9"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#upgrading-almalinux-8-to-almalinux-9"}},[a._v("#")]),a._v(" Upgrading AlmaLinux 8 to AlmaLinux 9")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("Install ELevate NG version repo config for AlmaLinux8:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" /etc/yum.repos.d/elevate-ng.repo https://repo.almalinux.org/elevate/testing/elevate-ng-el"),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-E")]),a._v(" %rhel"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v(".repo\n")])])])]),a._v(" "),e("li",[e("p",[a._v("Install leapp packages and upgrade data for AlmaLinux which is target OS:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" leapp-upgrade leapp-data-almalinux\n")])])])]),a._v(" "),e("li",[e("p",[a._v("Start a preupgrade check. In the meanwhile, the Leapp utility creates a special "),e("em",[a._v("/var/log/leapp/leapp-report.txt")]),a._v(" file that contains possible problems and recommended solutions. No rpm packages will be installed at this phase.")]),a._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[a._v("WARNING")]),a._v(" "),e("p",[a._v("Preupgrade check will fail as the default install doesn't meet all requirements for the upgrade.")])]),a._v(" "),e("p",[a._v("You may use "),e("strong",[a._v("LiveMode")]),a._v(" experimental feature as described above, or do the preupgrade in normal mode.")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" leapp preupgrade\n")])])]),e("p",[a._v("This summary report will help you get a picture of whether it is possible to continue the upgrade.")]),a._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),e("p",[a._v("In certain configurations, Leapp generates "),e("em",[a._v("/var/log/leapp/answerfile")]),a._v(" with true/false questions. Leapp utility requires answers to all these questions in order to proceed with the upgrade.")])])]),a._v(" "),e("li",[e("p",[a._v("The following fixes from "),e("em",[a._v("the /var/log/leapp/leapp-report.txt")]),a._v(" file are the most popular fixes for RHEL8-based operating systems:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"s/^AllowZoneDrifting=.*/AllowZoneDrifting=no/"')]),a._v(" /etc/firewalld/firewalld.conf\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" leapp answer "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--section")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("check_vdo.confirm")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("True\n")])])]),e("p",[a._v("You might also find the following issue in the "),e("strong",[a._v("leapp-report")]),a._v(" file that can interfere with the upgrade. Consider removing the file:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v(" Network configuration "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" unsupported device types detected\n Summary: RHEL "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("9")]),a._v(" does not support the legacy network-scripts package that was deprecated "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" RHEL "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("8")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" favor of NetworkManager. Files "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" device types that are not supported by NetworkManager are present "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" the system. Files with the problematic configuration:\n   - /etc/sysconfig/network-scripts/ifcfg-eth0\n")])])]),e("p",[a._v("Check the "),e("a",{attrs:{href:"/elevate/ELevate-frequent-issues"}},[a._v("ELevate Frequent Issues")]),a._v(" page for known and frequent issues and guidance steps to solve them.")])]),a._v(" "),e("li",[e("p",[a._v("Start an upgrade. You'll be offered to reboot the system after this process is completed.")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" leapp upgrade\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("reboot")]),a._v("\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),e("p",[a._v("You might want to remove the "),e("strong",[a._v("make-devel")]),a._v(" package as it conflicts when running "),e("code",[a._v("leapp upgrade")]),a._v(" and thus this step fails.")])])]),a._v(" "),e("li",[e("p",[a._v("A new entry in GRUB called "),e("code",[a._v("ELevate-Upgrade-Initramfs")]),a._v(" will appear. The system will be automatically booted into it.\nSee how the upgrade process goes in the console.")])]),a._v(" "),e("li",[e("p",[a._v("After reboot, login to the system and check how the upgrade went. Verify that the current OS is the one you need. Check logs and packages left from the previous OS version, consider removing them or upgrade them manually.")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" /etc/redhat-release\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" /etc/os-release\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-qa")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" el8\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" /var/log/leapp/leapp-report.txt\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" /var/log/leapp/leapp-upgrade.log\n")])])])])]),a._v(" "),e("h2",{attrs:{id:"prepare-the-system-for-upgrade-to-almalinux-10"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#prepare-the-system-for-upgrade-to-almalinux-10"}},[a._v("#")]),a._v(" Prepare the system for upgrade to AlmaLinux 10")]),a._v(" "),e("p",[a._v("When successfully upgraded to AlmaLinux 9 OS, consider performing these steps to prepare your system for upgrading to AlmaLinux 10:")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("Navigate to the "),e("strong",[a._v("/etc/")]),a._v(" directory and use an editor of your choice to edit the "),e("strong",[a._v("yum.conf")]),a._v(" file. You need to remove everything from the "),e("strong",[a._v("exclude")]),a._v(" line especially that refers to elevate or leapp.")]),a._v(" "),e("h5",{attrs:{id:"an-example-of-yum-conf-file"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#an-example-of-yum-conf-file"}},[a._v("#")]),a._v(" An example of yum.conf file:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("main"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("gpgcheck")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("installonly_limit")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("clean_requirements_on_remove")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("True\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("best")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("True\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("skip_if_unavailable")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("False\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("exclude")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("python2-leapp,snactor,leapp-upgrade-el8toel9,leapp\n")])])])]),a._v(" "),e("li",[e("p",[a._v("Then navigate to the "),e("em",[a._v("/etc/dnf/")]),a._v(" directory and use an editor of your choice to do the same in the "),e("strong",[a._v("dnf.conf")]),a._v(" file.")])]),a._v(" "),e("li",[e("p",[a._v("Now you can remove/manually upgrade packages left from AlmaLinux 8 without any conflicts.")])]),a._v(" "),e("li",[e("p",[a._v("Check packages left from AlmaLinux 8:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-qa")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" el8\n")])])]),e("p",[a._v("An example output with a list of packages:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v(" kernel-modules-4.18.0-553.32.1.el8_10.x86_64\n leapp-0.18.0-2.el8.noarch\n leapp-data-almalinux-0.5-1.el8.20241127.noarch\n kernel-core-4.18.0-553.32.1.el8_10.x86_64\n kernel-4.18.0-553.32.1.el8_10.x86_64\n python3-leapp-0.18.0-2.el8.noarch\n leapp-upgrade-el8toel9-0.21.0-4.el8.elevate.5.noarch\n")])])]),e("p",[a._v("As mentioned above, consider removing these packages or upgrading them manually to proceed with the upgrade to AlmaLinux 10.")]),a._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),e("p",[a._v("If you face difficulties while removing the packages, the following command might help you:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--nodeps")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("package_name"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])])])]),a._v(" "),e("li",[e("p",[a._v("You can also check for the packages left from the upgrade process and remove them:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-qa")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" elevate\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-qa")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" leapp\n")])])])]),a._v(" "),e("li",[e("p",[a._v("Check whether you have the "),e("em",[a._v("/root/tmp_leapp_py3")]),a._v(" directory created and if so delete it.")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-fr")]),a._v(" /root/tmp_leapp_py3\n")])])])]),a._v(" "),e("li",[e("p",[a._v("Clean up your machine.")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" dnf clean all\n")])])])])]),a._v(" "),e("p",[a._v("After these preparations are completed, you can upgrade your AlmaLinux 9 machine to AlmaLinux 10.")]),a._v(" "),e("h2",{attrs:{id:"upgrading-almalinux-9-to-almalinux-10"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#upgrading-almalinux-9-to-almalinux-10"}},[a._v("#")]),a._v(" Upgrading AlmaLinux 9 to AlmaLinux 10")]),a._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[a._v("WARNING")]),a._v(" "),e("p",[a._v("This upgrade is currently in development and testing. The main goals are to deliver working "),e("code",[a._v("leapp-data")]),a._v(" and "),e("code",[a._v("leapp-repository")]),a._v(" packages needed for the upgrade and to be able to upgrade to AlmaLinux OS 10 successfully. This upgrade is not recommended for production machines.")])]),a._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),e("p",[a._v("These steps can also be used to perform the upgrade from CentOS Stream 9 to CentOS Stream 10. The only difference is the "),e("code",[a._v("leapp-data")]),a._v(" package.")])]),a._v(" "),e("ul",[e("li",[e("p",[a._v("Install ELevate NG version repo config for AlmaLinux 9:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" /etc/yum.repos.d/elevate-ng.repo https://repo.almalinux.org/elevate/testing/elevate-ng-el"),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-E")]),a._v(" %rhel"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v(".repo\n")])])])]),a._v(" "),e("li",[e("p",[a._v("Import ELevate GPG key:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--import")]),a._v(" https://repo.almalinux.org/elevate/RPM-GPG-KEY-ELevate\n")])])])]),a._v(" "),e("li",[e("p",[a._v("Install leapp packages and upgrade data for AlmaLinux which is target OS:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" leapp-upgrade leapp-data-almalinux\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),e("p",[a._v("For the upgrade to CentOS Stream 10, please, use the "),e("code",[a._v("leapp-data-centos")]),a._v(" package:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" leapp-upgrade leapp-data-centos\n")])])])])]),a._v(" "),e("li",[e("p",[a._v("Start a preupgrade check. In the meanwhile, the Leapp utility creates a special "),e("em",[a._v("/var/log/leapp/leapp-report.txt")]),a._v(" file that contains possible problems and recommended solutions. No rpm packages will be installed at this phase.")]),a._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[a._v("WARNING")]),a._v(" "),e("p",[a._v("Preupgrade check will fail as the default install doesn't meet all requirements for the upgrade.")])]),a._v(" "),e("p",[a._v("You may use "),e("strong",[a._v("LiveMode")]),a._v(" experimental feature as described above, or do the upgrade in normal mode.")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" leapp preupgrade\n")])])]),e("p",[a._v("This summary report will help you get a picture of whether it is possible to continue the upgrade.")]),a._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),e("p",[a._v("In certain configurations, Leapp generates "),e("em",[a._v("/var/log/leapp/answerfile")]),a._v(" with true/false questions. Leapp utility requires answers to all these questions in order to proceed with the upgrade.")])])]),a._v(" "),e("li",[e("p",[a._v("Currently, the direct upgrade from Almalinux OS 9 to AlmaLinux OS 10.0 Beta goes smoothly. If there is a progressive upgrade from CentOS 7 to AlmaLinux OS 10.0 Beta, please check the "),e("a",{attrs:{href:"#known-issues"}},[a._v("known issues")]),a._v(" section.")]),a._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),e("p",[a._v("For CentOS Stream 9 to CentOS Stream 10 upgrade, please, also see the "),e("a",{attrs:{href:"#known-issues"}},[a._v("known issues")]),a._v(" section.")])])]),a._v(" "),e("li",[e("p",[a._v("Start an upgrade. You'll be offered to reboot the system after this process is completed.")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" leapp upgrade\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("reboot")]),a._v("\n")])])])]),a._v(" "),e("li",[e("p",[a._v("A new entry in GRUB called "),e("code",[a._v("ELevate-Upgrade-Initramfs")]),a._v(" will appear. The system will be automatically booted into it.\nSee how the upgrade process goes in the console.")])]),a._v(" "),e("li",[e("p",[a._v("After reboot, login to the system and check how the upgrade went. Verify that the current OS is the one you need. Check logs and packages left from the previous OS version, consider removing them or upgrade them manually.")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" /etc/redhat-release\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" /etc/os-release\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-qa")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" el9\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" /var/log/leapp/leapp-report.txt\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" /var/log/leapp/leapp-upgrade.log\n")])])])])]),a._v(" "),e("h2",{attrs:{id:"demo-video"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#demo-video"}},[a._v("#")]),a._v(" Demo Video")]),a._v(" "),e("p",[a._v("Here we have provided a demo of a CentOS 7.x to AlmaLinux 8.x upgrade using the AlmaLinux ELevate Project.")]),a._v(" "),e("iframe",{attrs:{width:"856",height:"482",src:"https://www.youtube.com/embed/Vzl9QxG5mvo",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}),a._v(" "),e("h2",{attrs:{id:"known-issues"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#known-issues"}},[a._v("#")]),a._v(" Known Issues")]),a._v(" "),e("h3",{attrs:{id:"upgrading-from-scientific-linux-7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#upgrading-from-scientific-linux-7"}},[a._v("#")]),a._v(" Upgrading from Scientific Linux 7")]),a._v(" "),e("p",[a._v("Upgrading from Scientific Linux 7 to AlmaLinux 8 requires a workaround. You can apply it by running the following command before the preupgrade check:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-rf")]),a._v(" /usr/share/redhat-release /usr/share/doc/redhat-release\n")])])]),e("h3",{attrs:{id:"progressive-upgrade-to-almalinux-10-or-almalinux-kitten-10"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#progressive-upgrade-to-almalinux-10-or-almalinux-kitten-10"}},[a._v("#")]),a._v(" Progressive upgrade to AlmaLinux 10 or AlmaLinux Kitten 10")]),a._v(" "),e("p",[a._v("If the system has been progressively upgraded from CentOS 7, the following issues appear after the preupgrade check when upgrading AlmaLinux 9 to AlmaLinux 10.0 Beta. The issues can be found in the generated "),e("code",[a._v("/var/log/leapp/leapp-report.txt")]),a._v(" file.")]),a._v(" "),e("ul",[e("li",[e("p",[a._v('"Deprecated DHCP plugin configured" inhibitor.')]),a._v(" "),e("ul",[e("li",[e("p",[a._v('To mitigate the "Deprecated DHCP plugin configured" inhibitor, run:')]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# sudo nmcli conn migrate")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# sudo nmcli connection modify <connection_name> ipv4.dhcp-timeout 30 ipv6.dhcp-timeout 30")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# sudo sed -i'.bak' 's/^dhcp=dhclient//g' /usr/lib/NetworkManager/conf.d/10-dhcp-dhclient.conf")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# sudo systemctl restart NetworkManager")]),a._v("\n")])])])]),a._v(" "),e("li",[e("p",[a._v("After that, verify the networking configuration:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# NetworkManager --print-config")]),a._v("\n")])])])])])]),a._v(" "),e("li",[e("p",[a._v("\"dracut module 'network-legacy' cannot be found or installed.\" error.")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("To fix this issue delete the drop-in:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# sudo rm -f /etc/dracut.conf.d/50-network-legacy.conf")]),a._v("\n")])])])])])]),a._v(" "),e("li",[e("p",[a._v("Before rebooting, make sure you have a working main console. You will probably need to check the "),e("code",[a._v("/etc/default/grub")]),a._v(". An example of the console-related settings:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("GRUB_TERMINAL_OUTPUT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"console"')]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("GRUB_CMDLINE_LINUX")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"console=ttyS0,115200 console=tty0"')]),a._v("\n")])])])])]),a._v(" "),e("h3",{attrs:{id:"upgrade-from-centos-strem-9-to-centos-stream-10"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#upgrade-from-centos-strem-9-to-centos-stream-10"}},[a._v("#")]),a._v(" Upgrade from CentOS Strem 9 to CentOS Stream 10")]),a._v(" "),e("p",[a._v("During CentOS Stream 9 to CentOS Stream 10 upgrade the following error can appear during preupgrade/upgrade step and can also be found in the generated "),e("em",[a._v("/var/log/leapp/leapp-report.txt")]),a._v(" file:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("error: Verifying a signature using certificate 99DB70FAE1D7CE227FB6488205B555B38483C65D "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("CentOS "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("CentOS Official Signing Key"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("security@centos.org"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),e("p",[a._v("To fix the error, please, manually remove and import the CentOS GPG Key using the following commands:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" gpg-pubkey-8483c65d-5ccc5b19\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--import")]),a._v(" https://www.centos.org/keys/RPM-GPG-KEY-CentOS-Official-SHA256\n")])])]),e("h2",{attrs:{id:"get-help"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#get-help"}},[a._v("#")]),a._v(" Get Help")]),a._v(" "),e("p",[a._v("Report your feedback to "),e("a",{attrs:{href:"https://chat.almalinux.org/almalinux/channels/migration",target:"_blank",rel:"noopener noreferrer"}},[a._v("AlmaLinux ~Migration Channel"),e("OutboundLink")],1),a._v(". We're especially interested in packages left from the previous OS versions. This information will allow us to improve ELevate's configuration files.")])])}),[],!1,null,null,null);e.default=r.exports}}]);