<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Package Building Guide | AlmaLinux Wiki</title>
    <meta name="generator" content="VuePress 1.9.10">
    <script>
      var _paq = window._paq = window._paq || [];
      /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
        var u="https://matomo.almalinux.org/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '5']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
    <link rel="shortcut icon" type="image/png" href="/images/logo.png">
    <meta name="description" content="AlmaLinux OS Documentation">
    
    <link rel="preload" href="/assets/css/0.styles.91964d11.css" as="style"><link rel="preload" href="/assets/js/app.50ce3d64.js" as="script"><link rel="preload" href="/assets/js/2.cc1e698a.js" as="script"><link rel="preload" href="/assets/js/1.6f275491.js" as="script"><link rel="preload" href="/assets/js/95.c1aa96e6.js" as="script"><link rel="prefetch" href="/assets/js/10.0961ac8d.js"><link rel="prefetch" href="/assets/js/100.492e124e.js"><link rel="prefetch" href="/assets/js/101.56c68902.js"><link rel="prefetch" href="/assets/js/102.729e93b5.js"><link rel="prefetch" href="/assets/js/103.1d699103.js"><link rel="prefetch" href="/assets/js/104.2749bee7.js"><link rel="prefetch" href="/assets/js/105.ebb774c6.js"><link rel="prefetch" href="/assets/js/106.18b666ba.js"><link rel="prefetch" href="/assets/js/107.5812c818.js"><link rel="prefetch" href="/assets/js/108.67d9c259.js"><link rel="prefetch" href="/assets/js/109.91f8e3b2.js"><link rel="prefetch" href="/assets/js/11.d6335c7b.js"><link rel="prefetch" href="/assets/js/110.fcb0d2d0.js"><link rel="prefetch" href="/assets/js/111.3d876cac.js"><link rel="prefetch" href="/assets/js/112.23a18f3e.js"><link rel="prefetch" href="/assets/js/113.27a6f14b.js"><link rel="prefetch" href="/assets/js/114.876c8ef7.js"><link rel="prefetch" href="/assets/js/115.2f73ba85.js"><link rel="prefetch" href="/assets/js/116.5f8c2262.js"><link rel="prefetch" href="/assets/js/117.74fc3d40.js"><link rel="prefetch" href="/assets/js/118.5fe4b2ae.js"><link rel="prefetch" href="/assets/js/119.5d0c97ba.js"><link rel="prefetch" href="/assets/js/12.cda2aeae.js"><link rel="prefetch" href="/assets/js/120.a36c98f3.js"><link rel="prefetch" href="/assets/js/121.72867573.js"><link rel="prefetch" href="/assets/js/122.0f955b21.js"><link rel="prefetch" href="/assets/js/123.cec68b27.js"><link rel="prefetch" href="/assets/js/124.fa30742f.js"><link rel="prefetch" href="/assets/js/125.9be78fb4.js"><link rel="prefetch" href="/assets/js/126.502367a7.js"><link rel="prefetch" href="/assets/js/127.59b07518.js"><link rel="prefetch" href="/assets/js/128.bbbba7dd.js"><link rel="prefetch" href="/assets/js/129.1aaa6951.js"><link rel="prefetch" href="/assets/js/13.e37456fe.js"><link rel="prefetch" href="/assets/js/130.396f87d3.js"><link rel="prefetch" href="/assets/js/131.ad9e1b52.js"><link rel="prefetch" href="/assets/js/132.fbe19602.js"><link rel="prefetch" href="/assets/js/133.a5440dac.js"><link rel="prefetch" href="/assets/js/134.e2b61c74.js"><link rel="prefetch" href="/assets/js/135.89fca625.js"><link rel="prefetch" href="/assets/js/136.4505a5f1.js"><link rel="prefetch" href="/assets/js/137.758330a4.js"><link rel="prefetch" href="/assets/js/138.3b4dd8d7.js"><link rel="prefetch" href="/assets/js/139.a7ea89d8.js"><link rel="prefetch" href="/assets/js/14.1e0f8bb2.js"><link rel="prefetch" href="/assets/js/140.b367b6b9.js"><link rel="prefetch" href="/assets/js/141.ae0949b8.js"><link rel="prefetch" href="/assets/js/142.542aa269.js"><link rel="prefetch" href="/assets/js/143.2a67ff70.js"><link rel="prefetch" href="/assets/js/144.07ce609e.js"><link rel="prefetch" href="/assets/js/145.f75fb418.js"><link rel="prefetch" href="/assets/js/146.c2e8ccb0.js"><link rel="prefetch" href="/assets/js/147.06b7be6d.js"><link rel="prefetch" href="/assets/js/148.c199118b.js"><link rel="prefetch" href="/assets/js/149.c4f08ab2.js"><link rel="prefetch" href="/assets/js/15.f4a73f35.js"><link rel="prefetch" href="/assets/js/150.1e6c329c.js"><link rel="prefetch" href="/assets/js/151.416cef35.js"><link rel="prefetch" href="/assets/js/152.7dec0777.js"><link rel="prefetch" href="/assets/js/153.49ee40c6.js"><link rel="prefetch" href="/assets/js/154.5603c14b.js"><link rel="prefetch" href="/assets/js/155.ca8d68fc.js"><link rel="prefetch" href="/assets/js/156.6bd5c19e.js"><link rel="prefetch" href="/assets/js/157.e16b9bc5.js"><link rel="prefetch" href="/assets/js/158.425fdae4.js"><link rel="prefetch" href="/assets/js/159.2b9ee602.js"><link rel="prefetch" href="/assets/js/16.fd3ec704.js"><link rel="prefetch" href="/assets/js/160.68635d88.js"><link rel="prefetch" href="/assets/js/161.c21860d4.js"><link rel="prefetch" href="/assets/js/162.9931cb0c.js"><link rel="prefetch" href="/assets/js/163.c399cd04.js"><link rel="prefetch" href="/assets/js/164.3ba57638.js"><link rel="prefetch" href="/assets/js/165.1932f18d.js"><link rel="prefetch" href="/assets/js/166.4b049392.js"><link rel="prefetch" href="/assets/js/167.372a4263.js"><link rel="prefetch" href="/assets/js/168.5c7624b9.js"><link rel="prefetch" href="/assets/js/169.a012e398.js"><link rel="prefetch" href="/assets/js/17.4ae81fed.js"><link rel="prefetch" href="/assets/js/170.2aeb633e.js"><link rel="prefetch" href="/assets/js/171.abed0ff5.js"><link rel="prefetch" href="/assets/js/172.02d6d084.js"><link rel="prefetch" href="/assets/js/173.a104f05d.js"><link rel="prefetch" href="/assets/js/174.2ab76bb2.js"><link rel="prefetch" href="/assets/js/175.95461cb6.js"><link rel="prefetch" href="/assets/js/176.e0458ff2.js"><link rel="prefetch" href="/assets/js/177.6459cf26.js"><link rel="prefetch" href="/assets/js/178.a6f38b7e.js"><link rel="prefetch" href="/assets/js/179.783ec244.js"><link rel="prefetch" href="/assets/js/18.1198418d.js"><link rel="prefetch" href="/assets/js/180.c35856e8.js"><link rel="prefetch" href="/assets/js/181.b5160bd5.js"><link rel="prefetch" href="/assets/js/182.95f4470b.js"><link rel="prefetch" href="/assets/js/183.9472c1bc.js"><link rel="prefetch" href="/assets/js/184.23aee865.js"><link rel="prefetch" href="/assets/js/185.28b60464.js"><link rel="prefetch" href="/assets/js/186.1119bdc8.js"><link rel="prefetch" href="/assets/js/187.ff5a5977.js"><link rel="prefetch" href="/assets/js/188.3d8bc7e7.js"><link rel="prefetch" href="/assets/js/189.3dce7a9f.js"><link rel="prefetch" href="/assets/js/19.9efc8374.js"><link rel="prefetch" href="/assets/js/190.96743e5c.js"><link rel="prefetch" href="/assets/js/191.5c4a6d85.js"><link rel="prefetch" href="/assets/js/192.77a53410.js"><link rel="prefetch" href="/assets/js/193.20c73fec.js"><link rel="prefetch" href="/assets/js/194.bfd8c910.js"><link rel="prefetch" href="/assets/js/195.99ce32f9.js"><link rel="prefetch" href="/assets/js/196.e06e9bd1.js"><link rel="prefetch" href="/assets/js/197.4284c926.js"><link rel="prefetch" href="/assets/js/20.ff5e2658.js"><link rel="prefetch" href="/assets/js/21.8daff977.js"><link rel="prefetch" href="/assets/js/22.db4bff77.js"><link rel="prefetch" href="/assets/js/23.b92cd95d.js"><link rel="prefetch" href="/assets/js/24.79689711.js"><link rel="prefetch" href="/assets/js/25.fe802b0f.js"><link rel="prefetch" href="/assets/js/26.efd2741c.js"><link rel="prefetch" href="/assets/js/27.64c60e82.js"><link rel="prefetch" href="/assets/js/28.54d9a209.js"><link rel="prefetch" href="/assets/js/29.6cc1d662.js"><link rel="prefetch" href="/assets/js/3.a5bdcc19.js"><link rel="prefetch" href="/assets/js/30.b921d529.js"><link rel="prefetch" href="/assets/js/31.e5c96fa5.js"><link rel="prefetch" href="/assets/js/32.c46cb51e.js"><link rel="prefetch" href="/assets/js/33.53d713b6.js"><link rel="prefetch" href="/assets/js/34.ef10d5ad.js"><link rel="prefetch" href="/assets/js/35.f7e3cf85.js"><link rel="prefetch" href="/assets/js/36.e472e945.js"><link rel="prefetch" href="/assets/js/37.5f15c3cd.js"><link rel="prefetch" href="/assets/js/38.a41ab348.js"><link rel="prefetch" href="/assets/js/39.56922733.js"><link rel="prefetch" href="/assets/js/4.a759004d.js"><link rel="prefetch" href="/assets/js/40.2fc5df4f.js"><link rel="prefetch" href="/assets/js/41.136ba8e3.js"><link rel="prefetch" href="/assets/js/42.40e5dd86.js"><link rel="prefetch" href="/assets/js/43.130794e7.js"><link rel="prefetch" href="/assets/js/44.97a92757.js"><link rel="prefetch" href="/assets/js/45.74abd3ef.js"><link rel="prefetch" href="/assets/js/46.7e97ab6e.js"><link rel="prefetch" href="/assets/js/47.b52ff54b.js"><link rel="prefetch" href="/assets/js/48.71261301.js"><link rel="prefetch" href="/assets/js/49.4eff45af.js"><link rel="prefetch" href="/assets/js/5.bac44cfa.js"><link rel="prefetch" href="/assets/js/50.fcfac1ac.js"><link rel="prefetch" href="/assets/js/51.e07900e6.js"><link rel="prefetch" href="/assets/js/52.2dbc4a3f.js"><link rel="prefetch" href="/assets/js/53.2f87a8f2.js"><link rel="prefetch" href="/assets/js/54.3e9c949f.js"><link rel="prefetch" href="/assets/js/55.dac4e1ec.js"><link rel="prefetch" href="/assets/js/56.b30cbf43.js"><link rel="prefetch" href="/assets/js/57.ccc76cd2.js"><link rel="prefetch" href="/assets/js/58.9ade1d7e.js"><link rel="prefetch" href="/assets/js/59.d2bde081.js"><link rel="prefetch" href="/assets/js/6.ace07c3d.js"><link rel="prefetch" href="/assets/js/60.7e1047de.js"><link rel="prefetch" href="/assets/js/61.72f54896.js"><link rel="prefetch" href="/assets/js/62.47b854c5.js"><link rel="prefetch" href="/assets/js/63.eeca5929.js"><link rel="prefetch" href="/assets/js/64.446e55d4.js"><link rel="prefetch" href="/assets/js/65.946624d6.js"><link rel="prefetch" href="/assets/js/66.fcc6e5f2.js"><link rel="prefetch" href="/assets/js/67.f9aaacf5.js"><link rel="prefetch" href="/assets/js/68.01c90ae3.js"><link rel="prefetch" href="/assets/js/69.8641d27f.js"><link rel="prefetch" href="/assets/js/7.720220fb.js"><link rel="prefetch" href="/assets/js/70.ace6d65d.js"><link rel="prefetch" href="/assets/js/71.155dd622.js"><link rel="prefetch" href="/assets/js/72.4b390d79.js"><link rel="prefetch" href="/assets/js/73.5bee7a82.js"><link rel="prefetch" href="/assets/js/74.9499ed2d.js"><link rel="prefetch" href="/assets/js/75.2b4e170e.js"><link rel="prefetch" href="/assets/js/76.8ecc0ffd.js"><link rel="prefetch" href="/assets/js/77.f90277c9.js"><link rel="prefetch" href="/assets/js/78.ecbac0e5.js"><link rel="prefetch" href="/assets/js/79.c974629c.js"><link rel="prefetch" href="/assets/js/80.1dd62839.js"><link rel="prefetch" href="/assets/js/81.a0262174.js"><link rel="prefetch" href="/assets/js/82.cb3639ba.js"><link rel="prefetch" href="/assets/js/83.6da7ee34.js"><link rel="prefetch" href="/assets/js/84.9b40f93b.js"><link rel="prefetch" href="/assets/js/85.ccc82bc8.js"><link rel="prefetch" href="/assets/js/86.3d7353cb.js"><link rel="prefetch" href="/assets/js/87.3a55a152.js"><link rel="prefetch" href="/assets/js/88.5f108b02.js"><link rel="prefetch" href="/assets/js/89.919e70d0.js"><link rel="prefetch" href="/assets/js/90.aff5cf24.js"><link rel="prefetch" href="/assets/js/91.c66808ab.js"><link rel="prefetch" href="/assets/js/92.b6f56151.js"><link rel="prefetch" href="/assets/js/93.0431a928.js"><link rel="prefetch" href="/assets/js/94.f2545720.js"><link rel="prefetch" href="/assets/js/96.07d8b3ce.js"><link rel="prefetch" href="/assets/js/97.bc7d1afc.js"><link rel="prefetch" href="/assets/js/98.0cde05cb.js"><link rel="prefetch" href="/assets/js/99.e2e8ff07.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.94b65286.js">
    <link rel="stylesheet" href="/assets/css/0.styles.91964d11.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo.png" alt="AlmaLinux Wiki" class="logo"> <span class="site-name can-hide">AlmaLinux Wiki</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://almalinux.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://chat.almalinux.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chat
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://lists.almalinux.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Mailing Lists
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://bugs.almalinux.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Bugs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/AlmaLinux/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://almalinux.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://chat.almalinux.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chat
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://lists.almalinux.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Mailing Lists
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://bugs.almalinux.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Bugs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/AlmaLinux/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">About</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/release-notes/" class="sidebar-heading clickable"><span>Release Notes</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/alesco" class="sidebar-heading clickable"><span>ALESCo</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/Contribute" class="sidebar-heading clickable"><span>Contribute</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/development/AlmaLinux-Build-System" class="sidebar-heading clickable open"><span>Development</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/development/AlmaLinux-Build-System.html" class="sidebar-link">AlmaLinux Build System</a></li><li><a href="/development/almalinux-os-kitten-10.html" class="sidebar-link">AlmaLinux OS Kitten 10</a></li><li><a href="/documentation/package-building-guide.html" aria-current="page" class="active sidebar-link">Package Building Guide</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documentation/package-building-guide.html#about-mock" class="sidebar-link">About mock</a></li><li class="sidebar-sub-header"><a href="/documentation/package-building-guide.html#setup-mock-and-rpm-build" class="sidebar-link">Setup mock and rpm-build</a></li><li class="sidebar-sub-header"><a href="/documentation/package-building-guide.html#building-packages-from-srpms" class="sidebar-link">Building packages from SRPMS</a></li><li class="sidebar-sub-header"><a href="/documentation/package-building-guide.html#building-packages-from-git-almalinux-org" class="sidebar-link">Building packages from git.almalinux.org</a></li><li class="sidebar-sub-header"><a href="/documentation/package-building-guide.html#config-file-for-i686" class="sidebar-link">Config file for i686</a></li></ul></li><li><a href="/development/building-almalinux-iso-locally.html" class="sidebar-link">Building AlmaLinux ISO locally</a></li><li><a href="/development/Modified-packages.html" class="sidebar-link">Modified packages</a></li><li><a href="/development/Packaging.html" class="sidebar-link">Packaging</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Private Keys</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/Comparison" class="sidebar-heading clickable"><span>Documentation</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/documentation/installation-guide" class="sidebar-heading clickable"><span>Installation</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/migration" class="sidebar-heading clickable"><span>Migration</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/Transparency" class="sidebar-heading clickable"><span>The Foundation</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/Help-and-Support.html" class="sidebar-link">Help and Support</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="almalinux-package-building-guide"><a href="#almalinux-package-building-guide" class="header-anchor">#</a> AlmaLinux Package Building Guide</h1> <p>This guide contains step-by-step instructions on how to build for AlmaLinux packages for different architectures. It also includes some background information about the mock tool, setup instructions, and some examples. These details can be helpful for the building packages for the AlmaLinux project.</p> <h2 id="about-mock"><a href="#about-mock" class="header-anchor">#</a> About <code>mock</code></h2> <p><a href="https://rpm-software-management.github.io/mock/" target="_blank" rel="noopener noreferrer">Mock<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is a tool for building RPM packages. It allows you to build packages for multiple architectures and different versions of RPM-based systems. It's possible to use mock to build packages for AlmaLinux OS as well.</p> <p>This guide contains steps on how to build packages for AlmaLinux for different architectures.</p> <p>The mock tool has such advantages as:</p> <ul><li>Mock creates a clean environment and clears it after the process is completed;</li> <li>It is possible to build packages for different architectures and distributions with mock;</li> <li>Mock doesn't require installing many development packages and tools.</li></ul> <p>The mock tool already contains config files for x86_64 and aarch64 architectures. You can find them in the <code>/etc/mock/</code> directory.</p> <p><img src="/images/building-packages-guide_etc-mock.png" alt="image"></p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Mock doesn't have a config file to build i686 packages. So you have to create a config yourselves to make that possible.</p></div> <p>Mock rebuilds RPMs from source RPMs. You have to download source RPMs in advance. All packages are available at <a href="https://repo.almalinux.org/" target="_blank" rel="noopener noreferrer">repo.almalinux.org<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Full package name contains <code>package name</code>, <code>version</code>, <code>release</code> and <code>architecture</code>. For example, in <strong>zlib-1.2.11-17.el8.src.rpm</strong> <code>package name</code> is <strong>zlib</strong>, <strong>1.2.11</strong> is <code>version</code>, <strong>17.el8</strong> is <code>release</code>, and <strong>src</strong> for <code>architecture</code> but it indicates that it's an RPM source package.</p> <h2 id="setup-mock-and-rpm-build"><a href="#setup-mock-and-rpm-build" class="header-anchor">#</a> Setup mock and rpm-build</h2> <ul><li>First step is to install EPEL repository to your system:</li></ul> <div class="language- extra-class"><pre class="language-text"><code>sudo dnf install -y epel-release
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Get more information about <a href="/repos/Extras">AlmaLinux supports EPEL and other repositories</a> on AlmaLinux wiki.</p></div> <ul><li>After EPEL installation is completed, you can install the mock tool:</li></ul> <div class="language- extra-class"><pre class="language-text"><code>sudo dnf install -y mock rpm-build
</code></pre></div><ul><li>Run the following command to be added to the mock group. That is necessary as you are going to use mock to build packages:</li></ul> <div class="language- extra-class"><pre class="language-text"><code>sudo usermod -a -G mock username
</code></pre></div><h2 id="building-packages-from-srpms"><a href="#building-packages-from-srpms" class="header-anchor">#</a> Building packages from SRPMS</h2> <h3 id="instruction-if-changes-are-needed"><a href="#instruction-if-changes-are-needed" class="header-anchor">#</a> Instruction if changes are needed</h3> <p>These steps allow you to make some changes before building the package.</p> <ul><li><p>Once you've <a href="#setup-mock">installed mock and put the user in the mock group</a>, you need to download a package you want to build from <a href="https://repo.almalinux.org/" target="_blank" rel="noopener noreferrer">repo.almalinux.org<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Use the <code>wget</code> command with the URL of the package. The downloaded package will appear in your home directory unless you specify.</p></li> <li><p>Unpack the package and create directory structure using <code>rpm -i</code> command:</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>rpm -i ./fullpackagename.src.rpm
</code></pre></div><p>This command creates your workplace directory structure <code>rpmbuild</code>. There are two folders for now: SOURCES and SPECS. The purpose of the SOURCES directory is to download the source tarballs into this directory. SPECS directory contains <code>.spec</code> files which have package meta information and build instructions.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Now is the right time to make some changes, if needed, before building a package.</p></div> <ul><li>Switch to SPECS directory to prepare the source using rpmbuild, the -bs flag, and specifying the spec filename. Some more directories are created:
<ul><li>BUILD has unpacked sources that get compiled in this directory;</li> <li>BUILDROOT is used for copied files during the install phase;</li> <li>RPMS has the created rpms;</li> <li>SRPMS has a <code>.src.rpm</code> with a spec file and the sources.</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>rpmbuild -bs packagename.spec
</code></pre></div><p><img src="/images/building-packages-guide_rpmbuild.png" alt="images"></p> <p>Switch to the SRPMS directory to build the package. The next step depends on what architecture you are building packages.</p> <h4 id="x86-64"><a href="#x86-64" class="header-anchor">#</a> x86_64</h4> <p>Use the <code>almalinux-8-x86_64.cfg</code> file that mock already has to build packages.</p> <p>Run the following command to build the package:</p> <div class="language- extra-class"><pre class="language-text"><code>mock -r almalinux-8-x86_64 --rebuild fullpackagename.src.rpm
</code></pre></div><p>Here is an example of what you can see as a building process:</p> <div class="language- extra-class"><pre class="language-text"><code>INFO: mock.py version 2.12 starting (python version = 3.6.8, NVR = mock-2.12-1.el8)...
Start(bootstrap): init plugins
...
Finish(bootstrap): chroot init
Start: chroot init

...

Start: dnf update
...
AlmaLinux 8 - AppStream                                                     2.2 MB/s | 8.0 MB     00:03
AlmaLinux 8 - PowerTools                                                    6.9 kB/s | 4.7 kB     00:00
AlmaLinux 8 - PowerTools                                                    866 kB/s | 2.4 MB     00:02
AlmaLinux 8 - Extras                                                        5.2 kB/s | 3.9 kB     00:00
AlmaLinux 8 - Extras                                                        7.3 kB/s |  12 kB     00:01
Dependencies resolved.
============================================================================================================
 Package                            Architecture  Version                            Repository        Size
============================================================================================================
Upgrading:
 almalinux-release                  x86_64        8.5-3.el8                          baseos            24 k
 annobin                            x86_64        9.72-1.el8_5.2                     appstream        110 k
 bash                               x86_64        4.4.20-2.el8                       baseos           1.5 M
 ...                      baseos           1.2 M
 sqlite-libs                        x86_64        3.26.0-15.el8                      baseos           580 k
 systemd-libs                       x86_64        239-51.el8                         baseos           1.1 M
 tpm2-tss                           x86_64        2.3.2-4.el8                        baseos           274 k
 util-linux                         x86_64        2.32.1-28.el8                      baseos           2.5 M
 which                              x86_64        2.21-16.el8                        baseos            48 k

Transaction Summary
============================================================================================================
Upgrade  74 Packages

Total download size: 133 M
Downloading Packages:
AlmaLinux 8 - AppStream           195% [==================================================================] done.B/s | 1.2 kB     --:-- ETA
(1/74): almalinux-release-8.5-3.el8.x86_64.rpm                              244 kB/s |  24 kB     00:00
(2/74): chkconfig-1.19.1-1.el8.x86_64.rpm                                   486 kB/s | 197 kB     00:00
...
(71/74): qt5-srpm-macros-5.15.2-1.el8.noarch.rpm                             37 kB/s | 9.5 kB     00:00
(72/74): rpm-build-4.14.3-19.el8.x86_64.rpm                                 168 kB/s | 172 kB     00:01
(73/74): gcc-c++-8.5.0-3.el8.alma.x86_64.rpm                                611 kB/s |  12 MB     00:20
(74/74): gcc-8.5.0-3.el8.alma.x86_64.rpm                                    783 kB/s |  23 MB     00:30
------------------------------------------------------------------------------------------------------------
Total                                                                       2.2 MB/s | 133 MB     01:00
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Running scriptlet: filesystem-3.8-6.el8.x86_64                                                        1/1
  Preparing        :                                                                                    1/1
  Upgrading        : libgcc-8.5.0-3.el8.alma.x86_64                                                   1/148
  Running scriptlet: libgcc-8.5.0-3.el8.alma.x86_64                                                   1/148
  Upgrading        : crypto-policies-20210617-1.gitc776d3e.el8.noarch                                 2/148
  ...
  Cleanup          : ncurses-base-6.1-7.20180224.el8.noarch                                         147/148
  Cleanup          : libgcc-8.4.1-1.el8.alma.x86_64                                                 148/148
  ...
  Verifying        : almalinux-release-8.5-3.el8.x86_64                                               1/148
  Verifying        : almalinux-release-8.4-3.el8.x86_64                                               2/148
  ...
  Verifying        : rpm-build-4.14.3-19.el8.x86_64                                                 147/148
  Verifying        : rpm-build-4.14.3-14.el8_4.x86_64                                               148/148

Upgraded:
  almalinux-release-8.5-3.el8.x86_64                        annobin-9.72-1.el8_5.2.x86_64
  bash-4.4.20-2.el8.x86_64                                  binutils-2.30-108.el8_5.1.x86_64
  ...
  systemd-libs-239-51.el8.x86_64                            tpm2-tss-2.3.2-4.el8.x86_64
  util-linux-2.32.1-28.el8.x86_64                           which-2.21-16.el8.x86_64

Complete!
INFO: Calling postupdate hooks because there are new/updated packages:
krb5-libs-1.18.2-14.el8.x86_64
file-libs-5.33-20.el8.x86_64
...
rpm-build-libs-4.14.3-19.el8.x86_64
openldap-2.4.46-18.el8.x86_64
Start: creating root cache
Finish: creating root cache
Finish: dnf update
Finish: chroot init
Start: build phase for zlib-1.2.11-17.el8.src.rpm
Start: build setup for zlib-1.2.11-17.el8.src.rpm
Building target platforms: x86_64
Building for target x86_64
Wrote: /builddir/build/SRPMS/zlib-1.2.11-17.el8.src.rpm
AlmaLinux 8 - BaseOS                                                        3.7 kB/s | 4.3 kB     00:01
AlmaLinux 8 - AppStream                                                     4.9 kB/s | 4.7 kB     00:00
AlmaLinux 8 - PowerTools                                                    4.1 kB/s | 4.7 kB     00:01
AlmaLinux 8 - Extras                                                        5.1 kB/s | 3.9 kB     00:00
Dependencies resolved.
============================================================================================================
 Package                          Architecture     Version                        Repository           Size
============================================================================================================
Installing:
 autoconf                         noarch           2.69-29.el8                    appstream           710 k
 automake                         noarch           1.16.1-7.el8                   appstream           712 k
 libtool                          x86_64           2.4.6-25.el8                   appstream           708 k
Installing dependencies:
 emacs-filesystem                 noarch           1:26.1-7.el8                   baseos               69 k
 groff-base                       x86_64           1.22.3-18.el8                  baseos              1.0 M
 m4                               x86_64           1.4.18-7.el8                   baseos              222 k
 ...
 perl-threads                     x86_64           1:2.21-2.el8                   baseos               61 k
 perl-threads-shared              x86_64           1.58-2.el8                     baseos               47 k

Transaction Summary
============================================================================================================
Install  40 Packages
...
(39/40): perl-libs-5.26.3-420.el8.x86_64.rpm                                389 kB/s | 1.6 MB     00:04
(40/40): perl-interpreter-5.26.3-420.el8.x86_64.rpm                         1.0 MB/s | 6.3 MB     00:06
------------------------------------------------------------------------------------------------------------
Total                                                                       1.1 MB/s | 8.9 MB     00:07
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                                                    1/1
  Installing       : m4-1.4.18-7.el8.x86_64                                                            1/40
  Running scriptlet: m4-1.4.18-7.el8.x86_64                                                            1/40
  Installing       : groff-base-1.22.3-18.el8.x86_64                                                   2/40
  ...
  Installing       : libtool-2.4.6-25.el8.x86_64                                                      40/40
  Running scriptlet: libtool-2.4.6-25.el8.x86_64                                                      40/40
  Verifying        : emacs-filesystem-1:26.1-7.el8.noarch                                              1/40
  Verifying        : groff-base-1.22.3-18.el8.x86_64                                                   2/40
  ...
  Verifying        : perl-Thread-Queue-3.13-1.el8.noarch                                              40/40

Installed:
  autoconf-2.69-29.el8.noarch                           automake-1.16.1-7.el8.noarch
  ...
  perl-threads-1:2.21-2.el8.x86_64                      perl-threads-shared-1.58-2.el8.x86_64

Complete!
Finish: build setup for zlib-1.2.11-17.el8.src.rpm
Start: Outputting list of installed packages
Finish: Outputting list of installed packages
Start: rpmbuild zlib-1.2.11-17.el8.src.rpm
...
patching file contrib/minizip/unzip.c
Patch #2 (zlib-1.2.11-IBM-Z-hw-accelrated-deflate-s390x.patch):
+ echo 'Patch #2 (zlib-1.2.11-IBM-Z-hw-accelrated-deflate-s390x.patch):'
+ /usr/bin/patch --no-backup-if-mismatch -p1 --fuzz=0
patching file Makefile.in
patching file configure
...
patching file test/crc32_test.c
+ echo 'Patch #3 (zlib-1.2.11-optimized-CRC32-framework.patch):'
+ /usr/bin/patch --no-backup-if-mismatch -p1 --fuzz=0
...
+ /usr/bin/patch --no-backup-if-mismatch -p1 --fuzz=0
patching file crc32.c
patching file deflate.c
...
patching file deflate.c
patching file test/infcover.c
+ echo 'Patch #6 (zlib-1.2.11-IBM-Z-hw-accelrated-deflate-fix.patch):'
+ /usr/bin/patch --no-backup-if-mismatch -p1 --fuzz=0
...
gcc -O2 -g -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS -fexceptions -fstack-protector-strong -grecord-gcc-switches -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -specs=/usr/lib/rpm/redhat/redhat-annobin-cc1 -m64 -mtune=generic -fasynchronous-unwind-tables -fstack-clash-protection -fcf-protection -D_LARGEFILE64_SOURCE=1 -DHAVE_HIDDEN  -c -o inflate.o inflate.c
gcc -O2 -g -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS -fexceptions -fstack-protector-strong -grecord-gcc-switches -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -specs=/

Provides: debuginfo(build-id) = e0d0a31c725b443047e37c342f2f7a925a141786 zlib-debuginfo = 1.2.11-17.el8 zlib-debuginfo(x86-64) = 1.2.11-17.el8
Requires(rpmlib): rpmlib(CompressedFileNames) &lt;= 3.0.4-1 rpmlib(FileDigests) &lt;= 4.6.0-1 rpmlib(PayloadFilesHavePrefix) &lt;= 4.0-1
Recommends: zlib-debugsource(x86-64) = 1.2.11-17.el8
Checking for unpackaged file(s): /usr/lib/rpm/check-files /builddir/build/BUILDROOT/zlib-1.2.11-17.el8.x86_64
Wrote: /builddir/build/RPMS/zlib-1.2.11-17.el8.x86_64.rpm
Wrote: /builddir/build/RPMS/zlib-devel-1.2.11-17.el8.x86_64.rpm
Wrote: /builddir/build/RPMS/zlib-static-1.2.11-17.el8.x86_64.rpm
Wrote: /builddir/build/RPMS/zlib-debugsource-1.2.11-17.el8.x86_64.rpm
Wrote: /builddir/build/RPMS/zlib-debuginfo-1.2.11-17.el8.x86_64.rpm
Executing(%clean): /bin/sh -e /var/tmp/rpm-tmp.x41aFv
+ umask 022
+ cd /builddir/build/BUILD
+ cd zlib-1.2.11
+ /usr/bin/rm -rf /builddir/build/BUILDROOT/zlib-1.2.11-17.el8.x86_64
+ exit 0
Finish: rpmbuild zlib-1.2.11-17.el8.src.rpm
Finish: build phase for zlib-1.2.11-17.el8.src.rpm
INFO: Done(zlib-1.2.11-17.el8.src.rpm) Config(almalinux-8-x86_64) 18 minutes 57 seconds
INFO: Results and/or logs in: /var/lib/mock/almalinux-8-x86_64/result
Finish: run
</code></pre></div><h4 id="aarch64"><a href="#aarch64" class="header-anchor">#</a> aarch64</h4> <p>Use the <code>almalinux-8-aarch64.cfg</code> file, though you need your computer or VM running on arm or qemu to proceed.</p> <p>Run the following command to build the package:</p> <div class="language- extra-class"><pre class="language-text"><code>mock -r almalinux-8-aarch64 --rebuild fullpackagename.src.rpm
</code></pre></div><h4 id="i686"><a href="#i686" class="header-anchor">#</a> i686</h4> <p><a href="https://repo.almalinux.org/vault/" target="_blank" rel="noopener noreferrer">Vault<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> repository contains all i686 packages.
Note, mock doesn't have a specified config file to build i686 packages or AlmaLinux. So you have to download this <a href="#config-file-for-i686">config file</a>. Next, we need to put that config to the <code>/etc/mock/</code> directory. It is possible to build i686 now.</p> <p>Run the following command to build the package:</p> <div class="language- extra-class"><pre class="language-text"><code>mock -r almalinux-8-i686 --rebuild fullpackagename.src.rpm
</code></pre></div><h3 id="instruction-without-changes"><a href="#instruction-without-changes" class="header-anchor">#</a> Instruction without changes</h3> <p>In case you need to build a package without any changes, follow mentioned steps:</p> <ul><li><a href="#setup-mock">Install</a> <code>epel-release</code>, <code>mock</code>, <code>rpm-build</code> and <code>add a user</code> to the mock group.</li> <li>Download a package you want to rebuild from <a href="https://repo.almalinux.org/" target="_blank" rel="noopener noreferrer">repo.almalinux.org<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Use the <code>wget</code> command with the URL of the package.</li> <li>Run <code>mock -r &quot;configname&quot; --rebuild fullpackagename.src.rpm</code> to build the package.</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>&quot;configname&quot; is the name of a configuration file from <code>/etc/mock/</code> without the <code>/etc/mock/</code> path prefix and the <code>.cfg</code> suffix. <a href="#x86-64">Check the information</a> above to see examples.</p></div> <p>Builds are done in the <code>/var/lib/mock</code> directory. You can see the built packages in this directory.</p> <p><img src="/images/building-packages-guide_results.png" alt="image"></p> <h2 id="building-packages-from-git-almalinux-org"><a href="#building-packages-from-git-almalinux-org" class="header-anchor">#</a> Building packages from <a href="https://git.almalinux.org/" target="_blank" rel="noopener noreferrer">git.almalinux.org<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <p>Another way to build packages is to receive sources and .spec files from <a href="https://git.almalinux.org/" target="_blank" rel="noopener noreferrer">git.almalinux.org<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Check this instruction to use this way:</p> <ul><li><p><a href="#setup-mock">Install</a> <code>epel-release</code>, <code>mock</code> and <code>add a user</code> to the mock group.</p></li> <li><p>Clone <a href="https://git.almalinux.org/almalinux/almalinux-git-utils" target="_blank" rel="noopener noreferrer">almalinux-git-utils<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> repo. These are utilities for working with the AlmaLinux OS Git server. Use <code>git clone</code> and <code>HTTPS</code> link from <a href="https://git.almalinux.org/" target="_blank" rel="noopener noreferrer">git.almalinux.org<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to clone the repository.</p></li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><code>SSH</code> link for cloning the repo is available only for signed-in users.</p></div> <ul><li>Switch to the almalinux-git-utils directory and run the following commands:</li></ul> <div class="language- extra-class"><pre class="language-text"><code>python3 setup.py build
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>pip3 install .
</code></pre></div><ul><li><p>Switch to the needed directory and clone a repo with the RPM package project from <a href="https://git.almalinux.org/" target="_blank" rel="noopener noreferrer">git.almalinux.org<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. After that, you have the SPECS folder with the .spec file for the cloned project.</p></li> <li><p>Switch to the project directory and run the mentioned command. This script downloads sources and BLOBs from the AlmaLinux sources cache. You can find them in the SOURCES folder.</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>alma_get_sources
</code></pre></div><ul><li>Run these commands to create a workplace directory structure <code>rpmbuild</code>.</li></ul> <div class="language- extra-class"><pre class="language-text"><code>dnf install -y rpmdevtools
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>rpmdev-setuptree
</code></pre></div><ul><li><p>Move SOURCES and SPECS files from the project directory to the ~/rpmbuild directory.</p></li> <li><p>Switch to the ~/rpmbuild/SPECS directory and run this command to build a SPEC file:</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>rpmbuild -bs packagename.spec
</code></pre></div><ul><li><a href="#x86-64">See what config name you need</a> and build the package using the mock tool:</li></ul> <div class="language- extra-class"><pre class="language-text"><code>mock -r &quot;configname&quot; --rebuild fullpackagename.src.rpm
</code></pre></div><h2 id="config-file-for-i686"><a href="#config-file-for-i686" class="header-anchor">#</a> Config file for i686</h2> <div class="language- extra-class"><pre class="language-text"><code>config_opts['root'] = 'almalinux-8-i686'
config_opts['chroot_setup_cmd'] = 'install tar gcc-c++ redhat-rpm-config redhat-release which xz sed make bzip2 gzip gcc coreutils unzip shadow-utils diffutils cpio bash gawk rpm-build info patch util-linux findutils grep scl-utils scl-utils-build git-core'
config_opts['dist'] = 'el8.alma'
config_opts['dnf_common_opts'] = ['--setopt=deltarpm=False', '--allowerasing', '--nobest', '--setopt=install_weak_deps=False']
config_opts['legal_host_arches'] = ['i386', 'i586', 'i686', 'x86_64']
config_opts['releasever'] = '8'
config_opts['package_manager'] = 'dnf'
config_opts['rpmbuild_networking'] = True
config_opts['target_arch'] = 'i686'
config_opts['extra_chroot_dirs'] = [ '/run/lock', ]
config_opts['use_bootstrap'] = False


config_opts['dnf.conf'] = &quot;&quot;&quot;
[main]
keepcache=1
cachedir = /var/cache/yum
debuglevel=1
reposdir=/dev/null
logfile=/var/log/yum.log
retries=20
obsoletes=1
gpgcheck=0
assumeyes=1
rpmverbosity = info
syslog_ident=mock
syslog_device=
metadata_expire=0
mdpolicy=group:primary
best=0
install_weak_deps=0
protected_packages=
module_platform_id=platform:el8
user_agent={{ user_agent }}


[baseos]
name=AlmaLinux $releasever - BaseOS
baseurl=https://repo.almalinux.org/vault/$releasever/BaseOS/i686/os/
enabled=1
gpgcheck=1
gpgkey=file:///usr/share/distribution-gpg-keys/alma/RPM-GPG-KEY-AlmaLinux

[appstream]
name=AlmaLinux $releasever - AppStream
baseurl=https://repo.almalinux.org/vault/$releasever/AppStream/i686/os/
enabled=1
gpgcheck=1
gpgkey=file:///usr/share/distribution-gpg-keys/alma/RPM-GPG-KEY-AlmaLinux

[powertools]
name=AlmaLinux $releasever - PowerTools
baseurl=https://repo.almalinux.org/vault/$releasever/PowerTools/i686/os/
enabled=1
gpgcheck=1
gpgkey=file:///usr/share/distribution-gpg-keys/alma/RPM-GPG-KEY-AlmaLinux

[extras]
name=AlmaLinux $releasever - Extras
baseurl=https://repo.almalinux.org/vault/$releasever/extras/i686/os/
enabled=1
gpgcheck=1
gpgkey=file:///usr/share/distribution-gpg-keys/alma/RPM-GPG-KEY-AlmaLinux

[ha]
name=AlmaLinux $releasever - HighAvailability
baseurl = https://repo.almalinux.org/vault/$releasever/HighAvailability/i686/os/
enabled = 0
gpgcheck=1
gpgkey=file:///usr/share/distribution-gpg-keys/alma/RPM-GPG-KEY-AlmaLinux

[resilientstorage]
name=AlmaLinux $releasever - ResilientStorage
baseurl=https://repo.almalinux.org/vault/$releasever/ResilientStorage/i686/os/
enabled=0
gpgcheck=1
gpgkey=file:///usr/share/distribution-gpg-keys/alma/RPM-GPG-KEY-AlmaLinux

[devel]
name=AlmaLinux $releasever - Devel (WARNING: UNSUPPORTED - FOR BUILDROOT USE ONLY!)
baseurl=https://repo.almalinux.org/vault/$releasever/devel/i686/os/
enabled=0
gpgcheck=1
gpgkey=file:///usr/share/distribution-gpg-keys/alma/RPM-GPG-KEY-AlmaLinux

&quot;&quot;&quot;
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2025-08-14</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/development/almalinux-os-kitten-10.html" class="prev">
        AlmaLinux OS Kitten 10
      </a></span> <span class="next"><a href="/development/building-almalinux-iso-locally.html">
        Building AlmaLinux ISO locally
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.50ce3d64.js" defer></script><script src="/assets/js/2.cc1e698a.js" defer></script><script src="/assets/js/1.6f275491.js" defer></script><script src="/assets/js/95.c1aa96e6.js" defer></script>
  </body>
</html>
